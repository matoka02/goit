{"mappings":"AAUA,MAAMA,EAAOC,SAASC,cAAc,cAC9BC,EAAOF,SAASC,cAAc,YAIpCF,EAAKI,iBAAiB,UAEtB,SAAkBC,GACdA,EAAIC,iBAGJ,MAAOC,OAAQC,MAAOC,GAAcC,MAAOF,MAAOG,IAAcN,EAAIO,cAAcC,SAInC,IAA1CJ,EAED,YADAK,MAAM,gBAqBd,SAAqBC,EAAK,OAAQP,EAAM,KAEpC,OAAOQ,MAAM,mFAAgCD,UAAaP,KACzDS,MAAKC,IAEF,GADAC,QAAQC,IAAIF,IACRA,EAAKG,GACL,MAAM,IAAIC,MAAMJ,EAAKK,YAEzB,OAAOL,EAAKM,MAAM,IAGrBC,OAAMC,GAAOP,QAAQQ,MAAMD,I,EA5B5BE,CAAYnB,EAAaE,GAAWM,MAAKY,IACrCV,QAAQC,IAAIS,EAAKC,SAASC,aAKlC,SAAsBC,GAClB,MAAMC,EAASD,EAAIE,KAAIC,GAAQ,uBACnBA,EAAKC,IAAIC,UAAUC,4BACvBH,EAAKC,IAAIC,UAAUE,6BAChBJ,EAAKK,mCACGL,EAAKC,IAAIK,qCACpBC,KAAK,IAEbvC,EAAKwC,UAAYV,C,CAZbW,CAAaf,EAAKC,SAASC,YAAY,G","sources":["src/js/goit-test-10-019.js"],"sourcesContent":["\"use strict\";\n\n// <!-- Лекция 18.11.2022 -->\n\n// weatherapi.com\n// API Key: 0f1a18797cc1430781a80508232606\n\n// XMLHttpRequest\n// https://developer.mozilla.org/ru/docs/Web/API/XMLHttpRequest\n\nconst form = document.querySelector('.js-search');\nconst list = document.querySelector('.js-list');\nconst BASE_URL = 'http://api.weatherapi.com/v1/forecast.json';\nconst API_KEY = '0f1a18797cc1430781a80508232606';\n\nform.addEventListener('submit', onSearch);\n\nfunction onSearch(evt) {\n    evt.preventDefault();\n\n    // console.dir(evt.currentTarget);\n    const {query: {value: searchValue}, days: {value: daysValue}} = evt.currentTarget.elements;\n    // console.log(searchValue, daysValue);\n\n    // если выключить эту проверку, придут дефолтные згачения\n    if (!searchValue) {\n        alert('Empty field');\n        return;\n    };\n\n    forecastApi(searchValue, daysValue).then(data => {\n        console.log(data.forecast.forecastday);\n        createMarkup(data.forecast.forecastday);\n    });\n};\n\nfunction createMarkup(arr) {\n    const markup = arr.map(item => `<li>\n    <img src=\"${item.day.condition.icon}\" alt=\"\">\n    <span>${item.day.condition.text}</span>\n    <h2>Day: ${item.date}</h2>\n    <h3>Temperature: ${item.day.avgtemp_c}&#8451;</h3>\n    </li>`).join('');\n\n    list.innerHTML = markup;\n};\n\nfunction forecastApi(name='Kiev', value='7') {\n    // дефолтные параметры: name='Kiev', value='7'\n    return fetch(`${BASE_URL}?key=${API_KEY}&q=${name}&days=${value}`)\n    .then(resp => {\n        console.log(resp);\n        if(!resp.ok){\n            throw new Error(resp.statusText)\n        }\n        return resp.json()\n    })\n    // .then(data => console.log(data))\n    .catch(err => console.error(err))\n};\n// forecastApi();"],"names":["$943b8977b90c75cb$var$form","document","querySelector","$943b8977b90c75cb$var$list","addEventListener","evt","preventDefault","query","value","searchValue","days","daysValue","currentTarget","elements","alert","name","fetch","then","resp","console","log","ok","Error","statusText","json","catch","err","error","$943b8977b90c75cb$var$forecastApi","data","forecast","forecastday","arr","markup","map","item","day","condition","icon","text","date","avgtemp_c","join","innerHTML","$943b8977b90c75cb$var$createMarkup"],"version":3,"file":"goit-test-10-019.f76abd0d.js.map"}
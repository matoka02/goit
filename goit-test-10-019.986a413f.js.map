{"mappings":"YAAA,aAUA,IAAMA,EAAOC,SAASC,cAAc,cAC9BC,EAAOF,SAASC,cAAc,YAC9BE,EAAW,6CACXC,EAAU,iCAEhBL,EAAKM,iBAAiB,UAEtB,SAAkBC,GACdA,EAAIC,iBAGJ,IAAgEC,EAAAF,EAAIG,cAAcC,SAAnEC,EAAiDH,EAAzDI,MAAQC,MAA4BC,EAAqBN,EAA5BO,KAAOF,MAG3C,IAAKF,EAED,YADAK,MAAM,gBAqBd,W,IAAqBC,EAAAC,UAAAC,OAAA,YAAAD,UAAA,GAAWA,UAAA,GAAN,OAAQL,EAAAK,UAAAC,OAAA,YAAAD,UAAA,GAASA,UAAA,GAAH,IACpC,OAAOE,MAAM,GAAmBC,OAAhBlB,EAAS,SAAoBkB,OAAbjB,EAAQ,OAAkBiB,OAAbJ,EAAK,UAAcI,OAANR,IACzDS,MAAK,SAAAC,GAEF,GADAC,QAAQC,IAAIF,IACRA,EAAKG,GACL,MAAM,IAAIC,MAAMJ,EAAKK,YAEzB,OAAOL,EAAKM,M,IAGfC,OAAM,SAAAC,G,OAAOP,QAAQQ,MAAMD,E,KA3B5BE,CAAYtB,EAAaG,GAAWQ,MAAK,SAAAY,GAM7C,IAAsBC,EACZC,EANFZ,QAAQC,IAAIS,EAAKG,SAASC,aAKZH,EAJDD,EAAKG,SAASC,YAKzBF,EAASD,EAAII,KAAI,SAAAC,G,MAAQ,uBAEvBnB,OADImB,EAAKC,IAAIC,UAAUC,KAAK,yBAEzBtB,OADHmB,EAAKC,IAAIC,UAAUE,KAAK,0BAEbvB,OADRmB,EAAKK,KAAK,gCACiBxB,OAAnBmB,EAAKC,IAAIK,UAAU,0B,IAC9BC,KAAK,IAEb7C,EAAK8C,UAAYZ,C","sources":["src/js/goit-test-10-019.js"],"sourcesContent":["\"use strict\";\n\n// <!-- Лекция 18.11.2022 -->\n\n// weatherapi.com\n// API Key: 0f1a18797cc1430781a80508232606\n\n// XMLHttpRequest\n// https://developer.mozilla.org/ru/docs/Web/API/XMLHttpRequest\n\nconst form = document.querySelector('.js-search');\nconst list = document.querySelector('.js-list');\nconst BASE_URL = 'http://api.weatherapi.com/v1/forecast.json';\nconst API_KEY = '0f1a18797cc1430781a80508232606';\n\nform.addEventListener('submit', onSearch);\n\nfunction onSearch(evt) {\n    evt.preventDefault();\n\n    // console.dir(evt.currentTarget);\n    const {query: {value: searchValue}, days: {value: daysValue}} = evt.currentTarget.elements;\n    // console.log(searchValue, daysValue);\n\n    if (!searchValue) {\n        alert('Empty field');\n        return;\n    }\n\n    forecastApi(searchValue, daysValue).then(data => {\n        console.log(data.forecast.forecastday);\n        createMarkup(data.forecast.forecastday);\n    })\n};\n\nfunction createMarkup(arr) {\n    const markup = arr.map(item => `<li>\n    <img src=\"${item.day.condition.icon}\" alt=\"\">\n    <span>${item.day.condition.text}</span>\n    <h2>Day: ${item.date}</h2>\n    <h3>Temperature: ${item.day.avgtemp_c}&#8451;</h3>\n    </li>`).join('');\n\n    list.innerHTML = markup;\n};\n\nfunction forecastApi(name='Kiev', value='7') {\n    return fetch(`${BASE_URL}?key=${API_KEY}&q=${name}&days=${value}`)\n    .then(resp => {\n        console.log(resp);\n        if(!resp.ok){\n            throw new Error(resp.statusText)\n        }\n        return resp.json()\n    })\n    // .then(data => console.log(data))\n    .catch(err => console.error(err))\n}\n// forecastApi();"],"names":["$e87d050c462ce04c$var$form","document","querySelector","$e87d050c462ce04c$var$list","$e87d050c462ce04c$var$BASE_URL","$e87d050c462ce04c$var$API_KEY","addEventListener","evt","preventDefault","_elements","currentTarget","elements","searchValue","query","value","daysValue","days","alert","name","arguments","length","fetch","concat","then","resp","console","log","ok","Error","statusText","json","catch","err","error","$e87d050c462ce04c$var$forecastApi","data","arr","markup","forecast","forecastday","map","item","day","condition","icon","text","date","avgtemp_c","join","innerHTML"],"version":3,"file":"goit-test-10-019.986a413f.js.map"}